import{f as b,u as w,r,j as e,L as R,c as m}from"./index-D8cSyDI9.js";const h=({rating:l,totalReviews:n})=>{const s=Math.round(l);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((o,a)=>e.jsx("svg",{className:`w-5 h-5 ${a<s?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))}),e.jsxs("span",{className:"text-gray-600 text-sm",children:["(",n," reviews)"]})]})},E=()=>{const{id:l}=b(),{user:n}=w(),[s,o]=r.useState(null),[a,g]=r.useState([]),[f,u]=r.useState(0),[p,d]=r.useState(!0),[x,j]=r.useState("");return r.useEffect(()=>{(async()=>{d(!0);try{const[c,i]=await Promise.all([m.get(`/users/mentor/${l}`),m.get(`/reviews/mentor/${l}`)]);if(o(c.data),g(i.data),i.data.length>0){const y=i.data.reduce((N,v)=>N+v.rating,0);u(y/i.data.length)}}catch(c){j("Mentor not found or an error occurred."),console.error(c)}finally{d(!1)}})()},[l]),p?e.jsx("p",{className:"text-center text-gray-500 mt-10",children:"Loading mentor profile..."}):x?e.jsx("p",{className:"text-center text-red-500 mt-10",children:x}):s?e.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden",children:[e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start text-center md:text-left",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-300 flex-shrink-0 mb-6 md:mb-0 md:mr-8 flex items-center justify-center",children:e.jsx("span",{className:"text-5xl text-gray-500",children:s.profile.name.charAt(0)})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:s.profile.name}),a.length>0&&e.jsx("div",{className:"mt-2 flex justify-center md:justify-start",children:e.jsx(h,{rating:f,totalReviews:a.length})}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:s.profile.bio}),n&&n.role==="MENTEE"&&e.jsx(R,{to:"/mentors",className:"mt-6 inline-block px-8 py-3 text-lg font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Request Mentorship"})]})]})}),e.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 px-8 py-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Skills & Expertise"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:s.profile.skills.map(t=>e.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:t},t))})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"What Mentees Are Saying"}),a.length>0?e.jsx("div",{className:"space-y-6",children:a.map(t=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(h,{rating:t.rating,totalReviews:0}),e.jsx("p",{className:"ml-4 font-bold text-gray-800",children:t.mentorshipRequest.mentee.profile.name})]}),e.jsxs("p",{className:"text-gray-600 italic",children:['"',t.comment,'"']})]},t.id))}):e.jsx("p",{className:"text-gray-500",children:"This mentor doesn't have any reviews yet."})]})]}):e.jsx("p",{className:"text-center text-gray-500 mt-10",children:"This mentor could not be found."})};export{E as default};
