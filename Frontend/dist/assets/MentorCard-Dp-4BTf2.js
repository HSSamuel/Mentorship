import{r as t,j as e,c as u}from"./index-D8cSyDI9.js";const m=()=>e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),p=({mentor:s,isAlreadyRequested:a})=>{const[l,n]=t.useState(a),[o,i]=t.useState(!1),[d,c]=t.useState("");t.useEffect(()=>{n(a)},[a]);const x=async()=>{c(""),i(!0);try{await u.post("/requests",{mentorId:s.id}),n(!0)}catch(r){const b=r.response?.status===409?"You have already sent a request to this mentor.":"Failed to send request. Please try again.";c(b),console.error(r)}finally{i(!1)}},f=()=>{const{profile:r}=s;return r?.avatarUrl?r.avatarUrl.startsWith("http")?r.avatarUrl:`${u.defaults.baseURL}${r.avatarUrl}`.replace("/api",""):`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name)}&background=random&color=fff`};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transition-transform transform hover:-translate-y-1 hover:shadow-2xl flex flex-col h-full",children:[e.jsxs("div",{className:"p-6 flex-grow",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:f(),alt:`Avatar of ${s.profile.name}`,className:"w-16 h-16 rounded-full object-cover mr-4 border-2 border-blue-200 dark:border-blue-700"}),e.jsx("div",{children:e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.profile.name})})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3",children:s.profile.bio}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-400 text-xs mb-2 uppercase",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.profile.skills.map(r=>e.jsx("span",{className:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full",children:r},r))})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:x,disabled:l||o,className:`w-full px-4 py-2 rounded-lg font-semibold text-white transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 flex justify-center items-center ${l?"bg-green-500 cursor-not-allowed":o?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,children:o?e.jsx(m,{}):l?"Request Sent âœ“":"Request Mentorship"}),d&&e.jsx("p",{className:"text-red-500 text-xs text-center mt-2",children:d})]})]})};export{p as M};
